<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasks</title>
  <style>
    :root {
      --bg: #b1e3f1;
      --accent: #075c74;
      --header1: #b1e3f1;
      --header2: #2a86a0;
      --header3: #034355;
    }

    * {
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      margin: 0;
      background-color: var(--bg);
      padding: 20px;
    }

    .tasks-header {
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      color: var(--header3);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--header2);
      padding-bottom: 10px;
    }

    /* Filter Section */
    .filter-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      min-width: 200px;
    }

    .filter-group label {
      font-size: 0.9rem;
      color: var(--header3);
      margin-bottom: 5px;
      font-weight: bold;
    }

    .filter-group input,
    .filter-group select {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid var(--header2);
      font-size: 0.9rem;
      background-color: white;
    }

    .tasks-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
      max-width: 800px;
      margin: 0 auto;
    }

    .task-card {
      display: flex;
      background-color: white;
      border-radius: 12px;
      padding: 15px;
      align-items: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      gap: 15px;
    }

    .profile-img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: var(--header2);
      flex-shrink: 0;
    }

    .task-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .task-details p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--header3);
    }

    .task-buttons {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .task-buttons button {
      padding: 6px 12px;
      font-size: 0.85rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      color: white;
      font-weight: bold;
      transition: 0.3s;
    }

    .verified-btn { background-color: #28a745; }
    .verified-btn:hover { background-color: #1e7e34; }

    .pending-btn { background-color: #ffc107; color: #034355; }
    .pending-btn:hover { background-color: #e0a800; }

    .complete-btn { background-color: #17a2b8; }
    .complete-btn:hover { background-color: #117a8b; }
  </style>
</head>
<body>

  <div class="tasks-header">Tasks</div>

  <!-- Filter Section -->
  <div class="filter-container">
    <!-- Supervisor Name Search + Dropdown -->
    <div class="filter-group">
      <label for="supervisor-filter">Supervisor Name</label>
      <input list="supervisor-list" id="supervisor-filter" placeholder="Type or select supervisor">
      <datalist id="supervisor-list">
        <!-- You can populate these dynamically from the database -->
      {% for s in supervisors %}
            <option value="{{ s.supervisor_name }}">{{ s.supervisor_name }}</option>
          {% endfor %}
      </datalist>
    </div>

    <!-- Area Name Search + Dropdown -->
    <div class="filter-group">
      <label for="area-filter">Area Name</label>
      <input list="area-list" id="area-filter" placeholder="Type or select area">
      <datalist id="area-list">
           {% for s in areas %}
            <option value="{{ s.name }}">{{ s.name }}</option>
          {% endfor %}
      </datalist>
    </div>

    <!-- Status Dropdown -->
    <div class="filter-group">
      <label for="status-filter">Status</label>
      <select id="status-filter">
        <option value="">-- Select Status --</option>
        <option>Verified</option>
        <option>Pending</option>
        <option>Complete</option>
      </select>
    </div>
  </div>

  <!-- Task Cards -->
  <div class="tasks-container" id="tasks-container">
    <div class="task-card" 
         data-supervisor="Supervisor A" 
         data-area="Alangulam" 
         data-status="Verified">
      <div class="profile-img"></div>
      <div class="task-details">
        <p><strong>Name:</strong> John Doe</p>
        <p><strong>Phone:</strong> 9876543210</p>
        <p><strong>Address:</strong> 123 Main Street, Alangulam</p>
        <p><strong>Complaint:</strong> Broken Light</p>
        <p><strong>Supervisor:</strong> Supervisor A</p>
      </div>
      <div class="task-buttons">
        <button class="verified-btn">Verified</button>
        <button class="pending-btn">Pending</button>
        <button class="complete-btn">Complete</button>
      </div>
    </div>

    <div class="task-card" 
         data-supervisor="Supervisor B" 
         data-area="Sankarankovil" 
         data-status="Pending">
      <div class="profile-img"></div>
      <div class="task-details">
        <p><strong>Name:</strong> Jane Smith</p>
        <p><strong>Phone:</strong> 9123456780</p>
        <p><strong>Address:</strong> 45 Park Avenue, Sankarankovil</p>
        <p><strong>Complaint:</strong> Water Leakage</p>
        <p><strong>Supervisor:</strong> Supervisor B</p>
      </div>
      <div class="task-buttons">
        <button class="verified-btn">Verified</button>
        <button class="pending-btn">Pending</button>
        <button class="complete-btn">Complete</button>
      </div>
    </div>

    <div class="task-card" 
         data-supervisor="Supervisor C" 
         data-area="Tenkasi" 
         data-status="Complete">
      <div class="profile-img"></div>
      <div class="task-details">
        <p><strong>Name:</strong> Raj Kumar</p>
        <p><strong>Phone:</strong> 9098765432</p>
        <p><strong>Address:</strong> 78 North Street, Tenkasi</p>
        <p><strong>Complaint:</strong> Street Light Not Working</p>
        <p><strong>Supervisor:</strong> Supervisor C</p>
      </div>
      <div class="task-buttons">
        <button class="verified-btn">Verified</button>
        <button class="pending-btn">Pending</button>
        <button class="complete-btn">Complete</button>
      </div>
    </div>
  </div>

  <script>
    const supervisorInput = document.getElementById('supervisor-filter');
    const areaInput = document.getElementById('area-filter');
    const statusSelect = document.getElementById('status-filter');
    const taskCards = document.querySelectorAll('.task-card');

    function filterTasks() {
      const supervisorVal = supervisorInput.value.toLowerCase();
      const areaVal = areaInput.value.toLowerCase();
      const statusVal = statusSelect.value.toLowerCase();

      taskCards.forEach(card => {
        const supervisor = card.getAttribute('data-supervisor').toLowerCase();
        const area = card.getAttribute('data-area').toLowerCase();
        const status = card.getAttribute('data-status').toLowerCase();

        const matchSupervisor = supervisor.includes(supervisorVal);
        const matchArea = area.includes(areaVal);
        const matchStatus = statusVal === '' || status === statusVal;

        card.style.display = (matchSupervisor && matchArea && matchStatus) ? 'flex' : 'none';
      });
    }

    supervisorInput.addEventListener('input', filterTasks);
    areaInput.addEventListener('input', filterTasks);
    statusSelect.addEventListener('change', filterTasks);
  </script>

</body>
</html>
